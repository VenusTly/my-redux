{"ast":null,"code":"import { methods } from './methods';\nexport let dispatch = () => {};\nexport let getState = () => {};\nexport const createMiddleware = () => {\n  return middlewareAPI => {\n    dispatch = middlewareAPI.dispatch;\n    getState = middlewareAPI.getState;\n    return next => action => {\n      let result = next(action);\n\n      if (typeof methods[action.type] === 'function') {\n        result = methods[action.type](action.data, getState);\n      }\n\n      return result;\n    };\n  };\n};","map":{"version":3,"sources":["/Users/tanluyang/Desktop/personal/my-redux/my-redux/middleware.ts"],"names":["methods","dispatch","getState","createMiddleware","middlewareAPI","next","action","result","type","data"],"mappings":"AACA,SAASA,OAAT,QAAwB,WAAxB;AAEA,OAAO,IAAIC,QAAa,GAAG,MAAM,CAAE,CAA5B;AACP,OAAO,IAAIC,QAAa,GAAG,MAAM,CAAE,CAA5B;AAEP,OAAO,MAAMC,gBAAgB,GAAG,MAAM;AACpC,SAAQC,aAAD,IAAwB;AAC7BH,IAAAA,QAAQ,GAAGG,aAAa,CAACH,QAAzB;AACAC,IAAAA,QAAQ,GAAGE,aAAa,CAACF,QAAzB;AACA,WAAQG,IAAD,IAAqBC,MAAD,IAAuB;AAChD,UAAIC,MAAM,GAAGF,IAAI,CAACC,MAAD,CAAjB;;AACA,UAAK,OAAON,OAAO,CAACM,MAAM,CAACE,IAAR,CAAd,KAAgC,UAArC,EAAiD;AAC/CD,QAAAA,MAAM,GAAGP,OAAO,CAACM,MAAM,CAACE,IAAR,CAAP,CAAqBF,MAAM,CAACG,IAA5B,EAAkCP,QAAlC,CAAT;AACD;;AACD,aAAOK,MAAP;AACD,KAND;AAOD,GAVD;AAWD,CAZM","sourcesContent":["import { Dispatch, AnyAction } from \"redux\"\nimport { methods } from './methods'\n\nexport let dispatch: any = () => {}\nexport let getState: any = () => {}\n\nexport const createMiddleware = () => {\n  return (middlewareAPI: any) => {\n    dispatch = middlewareAPI.dispatch\n    getState = middlewareAPI.getState\n    return (next: Dispatch) => (action: AnyAction) => {\n      let result = next(action)\n      if ( typeof methods[action.type] === 'function') {\n        result = methods[action.type](action.data, getState)\n      }\n      return result\n    }\n  }\n} "]},"metadata":{},"sourceType":"module"}